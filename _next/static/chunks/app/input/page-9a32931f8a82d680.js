(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{570:(e,t,s)=>{var r=s(4376),o=Object.prototype,a=o.hasOwnProperty,n=o.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,l),s=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=n.call(e);return r&&(t?e[l]=s:delete e[l]),o}},771:(e,t,s)=>{var r=s(8233),o=s(8611);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},2500:(e,t,s)=>{var r=s(7985),o="object"==typeof self&&self&&self.Object===Object&&self;e.exports=r||o||Function("return this")()},2712:(e,t,s)=>{"use strict";s.d(t,{n:()=>r});let r=["Рава-Руське","Потелицьке","Річківське","Михайлівське","Волицьке","Хлівчанське","Немирівське","Завадівське","Яворівське","Рогізнянське","Шклівське","Свидницьке"]},2802:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var r=s(5155),o=s(2115),a=s(5964),n=s.n(a),l=s(4524);function u(e){let{tableId:t,date:s,setDate:o}=e;return(0,r.jsxs)("div",{className:"mb-4 sm:mb-2",children:[(0,r.jsxs)("h2",{className:"text-xl sm:text-lg md:text-2xl font-bold mb-2 sm:mb-1",children:["Орієнтовний план реалізації (Таблиця ",t+1,")"]}),(0,r.jsx)("input",{type:"date",value:s,onChange:e=>{o(t,e.target.value)},className:"border px-2 py-1 sm:px-1 sm:py-0.5 rounded text-sm sm:text-xs md:text-base",required:!0})]})}var i=s(2712);let c=[{buyer:"Населення",product:"Деревина дров’яна НП",species:"1 група",volume:10,amount:1e4},{buyer:'ПП "ЕНЕРГІЯ ЗАХІД"',product:"Деревина дров’яна НП",species:"Мл",volume:20,amount:3e4},{buyer:'ПП "МЕЙВУД"',product:"Круглі лісоматеріали",species:"Сосна",volume:25,amount:1e5},{buyer:'ПП "ТАЙФУН-ПЛЮС"',product:"Круглі лісоматеріали",species:"Дуб",volume:20,amount:3e5},{buyer:'СП ТЗОВ "ЛІСОВА КОМПАНІЯ "ЛАВАНДА"',product:"Круглі лісоматеріали",species:"Сосна",volume:30,amount:9e4},{buyer:'ТЗОВ "ГАЛИЦЬКА ГУРТІВНЯ"',product:"Круглі лісоматеріали",species:"Сосна",volume:20,amount:7e4},{buyer:'ТЗОВ "ЄВРОШПОН"',product:"Круглі лісоматеріали",species:"Дуб",volume:10,amount:2e5},{buyer:'ТЗОВ "ЛЬВІВСЬКІ ТЕПЛОВІ МЕРЕЖІ"',product:"Деревина дров’яна ПВ",species:"Тл",volume:25,amount:41250},{buyer:'ТЗОВ "ПРОМЕКО"',product:"Круглі лісоматеріали",species:"Сосна",volume:30,amount:1e5},{buyer:'ТЗОВ "ТЕТА ТЕПЛО"',product:"Деревина дров’яна ПВ",species:"Тл",volume:10,amount:13500},{buyer:'ТЗОВ НВП "СІРІОН"',product:"Круглі лісоматеріали",species:"Дуб",volume:20,amount:3e5},{buyer:'ТОВ "АГРОДЕРЕВ"',product:"Круглі лісоматеріали",species:"Бук",volume:20,amount:8e4},{buyer:'ТОВ "БОЙКИ ПАЛЛЕТС"',product:"Круглі лісоматеріали",species:"Сосна",volume:30,amount:12e4},{buyer:'ТОВ "ВЕСТВУД ЕНЕРДЖІ"',product:"Деревина дров’яна ПВ",species:"Сосна",volume:25,amount:5e4},{buyer:'ТОВ "КРОНОСПАН УА"',product:"Деревина дров’яна ПВ",species:"Сосна",volume:30,amount:45e3},{buyer:'ТОВ "ЛЬВІВ-ПАК"',product:"Круглі лісоматеріали",species:"Сосна",volume:25,amount:87500},{buyer:'ТОВ "НВП "ГРИФСКАНД-СВАЛЯВА"',product:"Деревина дров’яна ПВ",species:"Граб",volume:25,amount:42500},{buyer:'ТОВ "СИВЛІС"',product:"Круглі лісоматеріали",species:"Сосна",volume:30,amount:15e4},{buyer:'ТОВ "ТРАНСТРЕЙДВУД"',product:"Деревина дров’яна ПВ",species:"Сосна",volume:30,amount:45e3},{buyer:'ТОВ "УЛДК"',product:"Круглі лісоматеріали",species:"Дуб",volume:10,amount:2e5},{buyer:"ФОП Білецький С.Я.",product:"Деревина дров’яна ПВ",species:"Тл",volume:10,amount:2e4},{buyer:"ФОП ГАРГАУН ЯНА ВІКТОРІВНА",product:"Деревина дров’яна ПВ",species:"Тл",volume:40,amount:6e4}],m=["Деревина дров’яна НП","Деревина дров’яна ПВ","Круглі лісоматеріали"],p=["1 група","2 група","3 група","Тл","Мл","Хв","Дуб","Бук","Граб","Береза","Вільха","Сосна"],d=(0,o.memo)(e=>{let{row:t,idx:s,handleFieldChange:o,handleBuyerChange:a,deleteRow:n}=e;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border px-2 py-1 sm:px-1 sm:py-0.5",children:s+1}),(0,r.jsx)("td",{className:"border px-2 py-1 sm:px-1 sm:py-0.5",children:(0,r.jsxs)("select",{className:"w-full border rounded text-sm sm:text-xs md:text-base",value:t.forest,onChange:e=>o(s,"forest",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"--"}),i.n.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})}),(0,r.jsx)("td",{className:"border px-2 py-1 sm:px-1 sm:py-0.5",children:(0,r.jsxs)("select",{className:"w-full border rounded text-sm sm:text-xs md:text-base",value:t.buyer,onChange:e=>a(s,e.target.value),children:[(0,r.jsx)("option",{value:"",children:"--"}),c.map(e=>e.buyer).filter((e,t,s)=>s.indexOf(e)===t).map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})}),(0,r.jsx)("td",{className:"border px-2 py-1 sm:px-1 sm:py-0.5",children:(0,r.jsxs)("select",{className:"w-full border rounded text-sm sm:text-xs md:text-base",value:t.product,onChange:e=>o(s,"product",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"--"}),m.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})}),(0,r.jsx)("td",{className:"border px-2 py-1 sm:px-1 sm:py-0.5",children:(0,r.jsxs)("select",{className:"w-full border rounded text-sm sm:text-xs md:text-base",value:t.species,onChange:e=>o(s,"species",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"--"}),p.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})}),(0,r.jsx)("td",{className:"border px-2 py-1 sm:px-1 sm:py-0.5",children:(0,r.jsx)("input",{type:"number",value:Math.round(t.volume),onChange:e=>o(s,"volume",parseInt(e.target.value)||0),className:"w-full border rounded px-2 py-1 text-sm sm:text-xs md:text-base",min:"0",step:"1"})}),(0,r.jsx)("td",{className:"border px-2 py-1 sm:px-1 sm:py-0.5",children:(0,r.jsx)("input",{type:"number",value:Math.round(t.amount),onChange:e=>o(s,"amount",parseInt(e.target.value)||0),className:"w-full border rounded px-2 py-1 text-sm sm:text-xs md:text-base",min:"0",step:"1"})}),(0,r.jsx)("td",{className:"border px-2 py-1 text-center sm:px-1 sm:py-0.5",children:(0,r.jsx)("button",{className:"cursor-pointer transition-all duration-200 ease-in-out hover:scale-125 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 p-1",onClick:()=>n(t.id),title:"Видалити рядок",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-red-600 hover:text-red-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M9 7V4h6v3M4 7h16"})})})})]},"".concat(t.id,"-").concat(s))});function x(e){let{tableId:t,rows:s,handleFieldChange:o,handleBuyerChange:a,deleteRow:n}=e;return(0,r.jsx)("div",{className:"overflow-x-auto mb-4 sm:mb-2",children:(0,r.jsxs)("table",{className:"min-w-full border text-[12px] sm:text-base text-left",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[40px] whitespace-normal",children:"№"}),(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[100px] whitespace-normal",children:"Лісництво"}),(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[100px] whitespace-normal",children:"Покупець"}),(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[120px] whitespace-normal",children:"Найменування продукції"}),(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[80px] whitespace-normal",children:"Порода"}),(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[100px] whitespace-normal",children:"Орієнтовний об’єм (м\xb3)"}),(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[120px] whitespace-normal",children:"Орієнтовна сума без ПДВ (грн)"}),(0,r.jsx)("th",{className:"border px-2 py-1 sm:px-1 sm:py-0.5 min-w-[40px]"})]})}),(0,r.jsx)("tbody",{children:s.map((e,s)=>(0,r.jsx)(d,{row:e,idx:s,handleFieldChange:(e,s,r)=>o(t,e,s,r),handleBuyerChange:(e,s)=>a(t,e,s),deleteRow:()=>n(t,e.id)},"".concat(e.id,"-").concat(s)))})]})})}function b(e){let{tableId:t,addRow:s}=e;return(0,r.jsx)("button",{onClick:()=>s(t),className:"mb-4 sm:mb-2 bg-blue-500 text-white px-4 py-2 sm:px-3 sm:py-1 rounded hover:bg-blue-600 sm:text-sm md:text-base",children:"Додати рядок"})}function v(e){let{tables:t,setTables:s,debouncedSave:o,deleteTable:a}=e,n=e=>{if(!t[e].date)return void alert("Будь ласка, спочатку введіть дату для цієї таблиці.");let r={id:Date.now(),forest:"",buyer:"",product:"",species:"",volume:0,amount:0},a=[...t];a[e].rows=[...a[e].rows,r],s(a),o({tables:a})},l=(e,r)=>{let a=[...t];a[e].rows=a[e].rows.filter(e=>e.id!==r),s(a),o({tables:a})},i=(e,r,a,n)=>{let l=[...t];l[e].rows[r][a]=n,s(l),o({tables:l})},m=(e,r,a)=>{let n=[...t],l={...n[e].rows[r],buyer:a};if(a){let e=c.find(e=>e.buyer===a);e?(l.product=e.product,l.species=e.species,l.volume=e.volume,l.amount=e.amount):(l.product="",l.species="",l.volume=0,l.amount=0)}else l.product="",l.species="",l.volume=0,l.amount=0;n[e].rows[r]=l,s(n),o({tables:n})},p=(e,r)=>{if(!r)return void alert("Дата таблиці не може бути порожньою.");if(t.some((t,s)=>s!==e&&t.date===r))return void alert('Таблиця на дату "'.concat(new Date(r).toLocaleDateString("uk-UA"),'" вже існує.'));let a=[...t],n=a[e];a[e]={...n,date:r},s(a),o({tables:a})};return(0,r.jsxs)(r.Fragment,{children:[" ",t.map((e,t)=>(0,r.jsxs)("div",{className:"mb-6 border rounded p-4 sm:p-2",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 space-y-2 sm:space-y-0",children:[(0,r.jsx)(u,{tableId:t,date:e.date,setDate:p}),(0,r.jsx)("button",{onClick:()=>a(t),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 sm:px-3 sm:py-1 sm:text-sm md:text-base",children:"Видалити таблицю"})]}),(0,r.jsx)(x,{tableId:t,rows:e.rows,handleFieldChange:i,handleBuyerChange:m,deleteRow:l}),(0,r.jsx)(b,{tableId:t,addRow:n})]},t))]})}function h(){let[e,t]=(0,o.useState)([]);(0,o.useEffect)(()=>{try{let e=(0,l.D)();e.tables.length>0?t(e.tables):t([])}catch(e){console.error("Помилка завантаження даних:",e),alert("Не вдалося завантажити дані.")}},[]);let s=(0,o.useMemo)(()=>n()(e=>{(0,l.x)(e)},500),[]),a=(0,o.useCallback)(()=>{if(e.length>0&&!e[e.length-1].date)return void alert("Будь ласка, введіть дату для поточної таблиці, перш ніж додавати нову.");let s={date:"",rows:[]};t(e=>[...e,s])},[e]),u=(0,o.useCallback)(r=>{if(confirm("Ви впевнені, що хочете видалити цю таблицю?")){let o=e.filter((e,t)=>t!==r);t(o),s({tables:o})}},[e,t,s]);return(0,r.jsxs)("div",{className:"w-full overflow-x-auto p-4 sm:p-2",children:[(0,r.jsx)("button",{onClick:a,className:"mb-4 sm:mb-2 bg-green-500 text-white px-4 py-2 sm:px-3 sm:py-1 rounded hover:bg-green-600 sm:text-sm md:text-base",children:"Додати таблицю"}),(0,r.jsx)(v,{tables:e,setTables:t,debouncedSave:s,deleteTable:u})]})}d.displayName="EditableRow"},3444:(e,t,s)=>{Promise.resolve().then(s.bind(s,2802))},4217:(e,t,s)=>{var r=s(6713),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},4376:(e,t,s)=>{e.exports=s(2500).Symbol},4439:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4524:(e,t,s)=>{"use strict";s.d(t,{D:()=>o,x:()=>r});let r=e=>{localStorage.setItem("tables",JSON.stringify(e.tables))},o=()=>{let e=localStorage.getItem("tables"),t=e?JSON.parse(e):[];if(Array.isArray(t)){let e=t.length>0?t[0]:{date:"",rows:[]};return{tables:t,date:e.date||"",rows:e.rows||[]}}return{tables:t.tables||[],date:t.date||"",rows:t.rows||[]}}},5964:(e,t,s)=>{var r=s(7460),o=s(6685),a=s(6815),n=Math.max,l=Math.min;e.exports=function(e,t,s){var u,i,c,m,p,d,x=0,b=!1,v=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var s=u,r=i;return u=i=void 0,x=t,m=e.apply(r,s)}function f(e){var s=e-d,r=e-x;return void 0===d||s>=t||s<0||v&&r>=c}function j(){var e,s,r,a=o();if(f(a))return w(a);p=setTimeout(j,(e=a-d,s=a-x,r=t-e,v?l(r,c-s):r))}function w(e){return(p=void 0,h&&u)?y(e):(u=i=void 0,m)}function g(){var e,s=o(),r=f(s);if(u=arguments,i=this,d=s,r){if(void 0===p)return x=e=d,p=setTimeout(j,t),b?y(e):m;if(v)return clearTimeout(p),p=setTimeout(j,t),y(d)}return void 0===p&&(p=setTimeout(j,t)),m}return t=a(t)||0,r(s)&&(b=!!s.leading,c=(v="maxWait"in s)?n(a(s.maxWait)||0,t):c,h="trailing"in s?!!s.trailing:h),g.cancel=function(){void 0!==p&&clearTimeout(p),x=0,u=d=i=p=void 0},g.flush=function(){return void 0===p?m:w(o())},g}},6685:(e,t,s)=>{var r=s(2500);e.exports=function(){return r.Date.now()}},6713:e=>{var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},6815:(e,t,s)=>{var r=s(4217),o=s(7460),a=s(771),n=0/0,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return n;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var s=u.test(e);return s||i.test(e)?c(e.slice(2),s?2:8):l.test(e)?n:+e}},7460:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7985:(e,t,s)=>{e.exports="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g},8233:(e,t,s)=>{var r=s(4376),o=s(570),a=s(4439),n=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?o(e):a(e)}},8611:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3444)),_N_E=e.O()}]);